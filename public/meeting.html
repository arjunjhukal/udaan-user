<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zoom Meeting</title>
    <link type="text/css" rel="stylesheet" href="https://source.zoom.us/5.0.0/css/bootstrap.css" />
    <link type="text/css" rel="stylesheet" href="https://source.zoom.us/5.0.0/css/react-select.css" />
</head>

<body>
    <style>
        html,
        body {
            height: 100%;
            width: 100%;
            margin: 0;
            background-color: black;
            overflow: hidden;
        }

        #zmmtg-root {
            width: 100%;
            height: 100%;
            display: block;
        }
    </style>

    <div id="zmmtg-root"></div>

    <script src="https://source.zoom.us/5.0.0/lib/vendor/react.min.js"></script>
    <script src="https://source.zoom.us/5.0.0/lib/vendor/react-dom.min.js"></script>
    <script src="https://source.zoom.us/5.0.0/lib/vendor/redux.min.js"></script>
    <script src="https://source.zoom.us/5.0.0/lib/vendor/redux-thunk.min.js"></script>
    <script src="https://source.zoom.us/5.0.0/lib/vendor/lodash.min.js"></script>
    <script src="https://source.zoom.us/zoom-meeting-5.0.0.min.js"></script>

    <script>
        ZoomMtg.preLoadWasm();
        ZoomMtg.prepareWebSDK();

        const urlParams = new URLSearchParams(window.location.search);
        const meetingConfig = {
            mn: urlParams.get('mn'),
            pwd: urlParams.get('pwd'),
            sig: urlParams.get('sig'),
            key: urlParams.get('key'),
            name: urlParams.get('name'),
            email: urlParams.get('email'),
            leaveUrl: urlParams.get('leave')
        };

        if (meetingConfig.mn && meetingConfig.sig) {
            ZoomMtg.init({
                leaveUrl: meetingConfig.leaveUrl,
                isSupportAV: true,
                showMeetingHeader: false,
                disableJoinAudio: true,
                disableRecord: true,
                isSupportChat: false,
                success: function () {
                    const joinConfig = {
                        meetingNumber: meetingConfig.mn,
                        userName: meetingConfig.name,
                        signature: meetingConfig.sig,
                        sdkKey: meetingConfig.key,
                        passWord: meetingConfig.pwd,
                        success: function (res) {
                            const style = document.createElement('style');
                            style.innerHTML = `
                                .meeting-info-container__wrapper,
                                .meeting-info-container__full-screen,
                                .footer__panel, 
                                .header-bar__container,
                                .meeting-header {
                                    display: none !important;
                                }
                            `;
                            document.head.appendChild(style);
                        },
                        error: function (res) {
                            console.log("Join meeting error:", res);
                        }
                    };

                    ZoomMtg.join(joinConfig);
                },
                error: function (res) {
                    console.log("Init error:", res);
                }
            });
        }
    </script>
</body>

</html>